%!TEX root = ../DDE-Project-Master.tex

\section{Uniform Convergence of Galerkin Solutions}

\subsection{Pointwise Convergence in \texorpdfstring{$X$}{X}}

It will be helpful to prove a lemma.
\bl
There is \(C>0\) such that for any \(N\in\mathbb N_0.\)
\be
    \|T_N(t-s)\Pi_N(\mathcal F(u(s)) - \mathcal F(u_N(s)))\|_X \leq C \|u(s) - u_N(s)\|_X,
\ee
where \(t\in [0,T]\) and \(s\in[0,t]\).
\el
\bp
We have that 
\bea\label{pwx-1}
    \|T_N(t-s)\Pi_N(\mathcal F(u(s)) - \mathcal F(u_N(s)))\|_X^2 &= \|T_N(t-s)\Pi_N(\mathcal F(u(s)) - \mathcal F(u_N(s)))\|_\mcH^2 \\ 
    &+ \left|[T_N(t-s)\Pi_N(\mathcal F(u(s)) - \mathcal F(u_N(s)))]^D(-\tau)\right|^2.
\eea
Note that for the first term on the right-hand side of \eqref{pwx-1}, we have that 
\bea\label{pwx-2}
    \|T_N(t-s)\Pi_N(\mathcal F(u(s)) - \mathcal F(u_N(s)))\|_\mcH &\leq Me^{\omega(t-s)} \|\mathcal F(u(s)) - \mathcal F(u_N(s))\|_\mcH \\
    &\leq Me^{\omega T} \|\mathcal F(u(s)) - \mathcal F(u_N(s))\|_\mcH \\
    &= Me^{\omega T} \left|f([u(s)]^D(-\tau)) - f([u_N(s)]^D(-\tau))\right| \\
    &\leq {\alert \Lip(F)}Me^{\omega T} \left|[u(s)]^D(-\tau) - [u_N(s)]^D(-\tau)\right| \\
    &\leq \Lip(f)Me^{\omega T} \|u(s) - u_N(s)\|_X.
\eea
For the second term on the right-hand side of \eqref{pwx-1}, we consider first the case when \(t-s\geq \tau.\) Then
\bea\label{pwx-3}
    \left|[T_N(t-s)\Pi_N(\mcF(u(s)) - \mcF(u_N(s)))]^D(-\tau)\right| &\leq \|T_N(t-s-\tau)\Pi(\mcF(u(s)) - \mcF(u_N(s)))\|_\mcH \\
    &\leq Me^{\omega T} \|\mathcal F(u(s)) - \mathcal F(u_N(s))\|_\mcH \\
    &\leq \Lip(f)Me^{\omega T} \|u(s) - u_N(s)\|_X.
\eea
Now consider the case when \(t-s<\tau.\) So we have that
\bea\label{pwx-4}
    \left|[T_N(t-s)\Pi_N(\mcF(u(s)) - \mcF(u_N(s)))]^D(-\tau)\right| = \left| \left[\Pi_N(\mcF(u(s)) - \mcF(u_N(s)))\right]^D(t-s-\tau)\right| \\
    = \left|f([u(s)]^D(-\tau)) - f([u_N(s)]^D(-\tau))\right| \cdot \left|S^\tau_N(t-s-\tau)\right|  \hspace{0em} \\
    \leq \Lip(f)\left|[u(s)]^D(-\tau) - [u_N(s)]^D(-\tau)\right|  \hspace{9.15em} \\
    \leq \Lip(f) \|u(s) - u_N(s)\|_X.  \hspace{14.7em} 
\eea
Note that since \(M\geq 1\) and \(\omega T \geq 0\), so \(\Lip(f) \leq \Lip(f)Me^{\omega T}\). If we define
\be
    C := \sqrt 2 \cdot \Lip(f)Me^{\omega T}
\ee
and apply \eqref{pwx-2}, \eqref{pwx-3}, and \eqref{pwx-4} to \eqref{pwx-1}, then we get that 
\be
    \|T_N(t-s)\Pi_N(\mathcal F(u(s)) - \mathcal F(u_N(s)))\|_X \leq C\|u(s) - u_N(s)\|_X.
\ee
\ep

We introduce the following definitions:
\bea
    r_N(t) & := \|u(t)  - u_N(t)\|_X, \\
    \epsilon_N(t) & := \|T(t) u_0 - T_N(t)\Pi_N u_0\|_X, \\
    d_N(t,s) & := \| \left( T(t-s) -  T_N(t-s) \Pi_N \right) \mathcal{F}(u(s)) \|_X.
\eea
One can apply the variation-of-constants formula and the above definitions to get that 
\bea\label{pwx-rn-1}
    r_N(t)  &\leq \epsilon_N(t) + \int_0^t d_N(t,s) \d s + \int_0^t \|T_N(t-s) \Pi_N \big( \mathcal{F}(u(s)) - \mathcal{F}(u_N(s)) \big )\|_X \d s \\
    &\leq \epsilon_N(t) + \int_0^t d_N(t,s) \d s + C\int_0^t r_N(s) \d s.
\eea
Applying Gr\"onwall's inequality to \eqref{pwx-rn-1} gives
\bea\label{pwx-rn-2}
    r_N(t) &\leq \left[ \epsilon_N(t) + \int_0^t d_N(t,s) \d s\right] + \int_0^t C e^{C(t-s)} \left[ \epsilon_N(s) + \int_0^s d_N(s,r) \d r\right]\d s \\
    &\leq \left[ \epsilon_N(t) + \int_0^t d_N(t,s) \d s\right] + C e^{CT}\int_0^t  \left[ \epsilon_N(s) + \int_0^s d_N(s,r) \d r\right]\d s.
\eea
We wish to show that \(r_N(t)\to 0\) as \(N\to\infty\) for each fixed \(t\in[0,T]\). To this end, we show that each term on the right-hand side of \eqref{pwx-rn-2} converges to \(0\) as \(N\to \infty\) and \(t\in[0,T]\) fixed. The following propositions will show this.

\bprop\label{prop:pwx-con-1}
For fixed \(t\in[0,T]\),
\be
    \epsilon_N(t)\to 0 \text{ and } \int_0^t\epsilon_N(s)\d s\to 0
\ee
as \(N\to\infty.\)
\eprop

\bp
From the definition of the \(X\) norm, we have that 
\be\label{eq:pwx-en-1}
    \epsilon_N(t)^2 = \| T(t) u_0 - T_N(t)\Pi_Nu_0 \|_\mcH^2 + |[T(t) u_0]^D(-\tau) - [T_N(t)\Pi_Nu_0]^D(-\tau)|^2.
\ee
The first term on the right-hand side converges uniformly to \(0\) by the Trotter-Kato theorem. For the second case, we again consider the case when \(t\geq \tau\). Here we can apply the Trotter-Kato theorem again to  \(\| T(t-\tau) u_0 - T_N(t-\tau)\Pi_Nu_0 \|_\mcH^2\) to get the term converges to zero. When \(t< \tau\), the second term becomes
\be
    |u_0^D(t-\tau) - [\Pi_N u_0]^D(t-\tau)|^2
\ee
which converges to \(0\) uniformly by \cref{prop:uniform-conv}. This gives that \(\epsilon_N(t)\to0\).

To show the other convergence, note that \(\epsilon_N(s)\) converges pointwisely to \(0\) on \([0,t]\). Furthermore, we may uniformly bound \(\epsilon_N(s)\) by again observing the equality \eqref{eq:pwx-en-1} and applying the uniform bounds on \(\|T_N(\cdot)\|_{\mathcal H}\) and on \([\Pi_N u_0]^D\). Then by the Bounded Convergence Theorem, we have \(\int_0^t\epsilon_N(s)\d s\to 0\).
\ep


\bprop\label{prop:pwx-con-2}
For fixed \(t\in[0,T]\),
\be
    \int_0^t d_N(t,s)\d s \to 0 \text{ and } \int_0^t\int_0^s d_N(s,r)\d r \d s\to 0,
\ee
as \(N\to\infty.\)
\eprop

\bp
We can again apply the definition of \(\|\cdot\|_X\) to get that
\bea
    d_N^2(t,s) &= \| \left( T(t-s) -  T_N(t-s) \Pi_N \right) \mathcal{F}(u(s)) \|_\mcH^2 \\ 
    & \hspace{1em} + |[T(t-s)\mathcal{F}(u(s))]^D(-\tau) -  [T_N(t-s) \Pi_N\mathcal{F}(u(s))]^D(-\tau)  |^2.
\eea
For fixed \(t\) and \(s\), the first term of the right-hand side converges to zero. For \(t-s\geq\tau\) the second term will similarly converge to \(0\). For \(t-s<\tau\), the second term will become
\be
    |0 - [\Pi_N\mcF(u(s))]^D(t-s-\tau)| = |f([u(s)]^D(-\tau))|\cdot \left|S_N(t-s-\tau)\right|,
\ee
which converges a.e. to \(0\) by \eqref{eq:pw-conv}. So for fixed \(t\), \(d_N(t,s)\) converges a.e. to \(0\) for \(s\in[0,t]\). Furthermore, we can uniformly bound \(d_N(t, s)\) by \eqref{eq:uniform-bdd}.Thus by the Bounded Convergence Theorem, we have \( \int^t_0 d_N (t, s) \d s \to 0\) as \(N \to \infty.\)

The second convergence follows by the observations that \(\int_0^\cdot d_N(\cdot,r)\d r\) converges pointwise to \(0\) by our earlier work and can uniformly bounded on \([0,t]\). This allows us to apply the Bounded Convergence Theorem to get that \(\int_0^t\int_0^s d_N(s,r)\d r \d s \to 0\) as \(N\to\infty\).
\ep

We may now state our result.
\bt\label{thm:pointwise} For \(t\in[0,T]\), 
\be
    \lim_{N\to\infty} \|u(t)  - u_N(t)\|_X = 0.
\ee
\et

\bp
Apply propositions \eqref{prop:pwx-con-1} and \eqref{prop:pwx-con-2} to the inequality in \eqref{pwx-rn-2}.
\ep

\subsection{Uniform Convergence}

\bl
The following convergences hold:
\be\label{conv1}
    \lim_{N\to\infty} \int_0^T \left| [u_N(s)]^D(-\tau) - [u(s)]^D(-\tau) \right|^2 \d s,
\ee
and 
\be\label{conv2}
    \lim_{N\to\infty} \int_0^T \| \mcF (u_N(s)) - \mcF(u(s) \|_\mcH \d s = 0.
\ee
\el

\bp
Note that 
\be
    \int_0^T \left| [u_N(s)]^D(-\tau) - [u(s)]^D(-\tau) \right|^2 \d s \leq \sum_{k=0}^m \int_{-\tau}^0 \left| [u_N(k\tau)]^D(\theta) - [u(k\tau)]^D(\theta) \right|^2\d\theta,
\ee
for \(m\) such that \(T-\tau \leq m\tau < T\). In other words, 
\bea\label{unineq}
    \left\| [u_N(\cdot)]^D(-\tau) - [u(\cdot)]^D(-\tau) \right\|^2_{L^2([0,T];\mathbb R)} \leq \sum_{k=0}^m \left\| [u_N(k\tau)]^D - [u(k\tau)]^D \right\|^2_{L^2([-\tau,0); \R)}.
\eea
It is a simple corollary of \cref{thm:pointwise} that \(\|[u_N(t)]^D - [u(t)]^D]\|_{L^2([0,T];\mathbb R)} \to 0\) as \(N\to\infty\) for any \(t\in[0,T]\). This gives that the right side of \eqref{unineq} converges to \(0\) as \(N\to\infty\), and thus the left side of \eqref{unineq} also converges to \(0\) as \(N\to\infty\). This proves \eqref{conv1}. 

To prove the other convergence, note that 
\bea
    \int_0^T \|\mathcal F(u_N(s)) - \mathcal F(u(s)) \|_{\mathcal H} \d s &= \int_0^T \left| f\left([u_N(s)]^D(-\tau)\right) - f\left([u(s)]^D(-\tau)\right)\right|\d s \\
    &\leq \Lip(f) \int_0^T \left| [u_N(s)]^D(-\tau)- [u(s)]^D(-\tau)\right|\d s \\
    &=\Lip(f) \| [u_N(\cdot)]^D(-\tau)- [u(\cdot)]^D(-\tau) \|_{L^1([0,T];\mathbb R)}.
\eea
Noting that \(L^2([0,T];\mathbb R)\) is continuously embedded in \(L^1([0,T];\mathbb R)\) and applying \eqref{conv1} proves that \eqref{conv2} holds.
\ep

\bt\label{thm:equicontinuous}
The sequence of functions \(\{u_N\}_{N=0}^\infty\), where 
\be
    u_N : [0,T] \mapsto \mathcal H, \qquad N\in\mathbb N_0,
\ee 
is uniformly equicontinuous. 
\et

\bp
Suppose \(t_0,t_1\in [0,T]\) and \(t_0 \leq t_1\). Denote \(\delta := t_1 - t_0\). Applying the variation-of-constants formula, we have that for \(N\in\mathbb N_0\)
\bea
    \|u_N(t_0) - u_N(t_1)\|_{\mathcal H} &\leq \underbrace{\|(T_N(t_0) - T_N(t_0 + \delta))\Pi_N u_0\|_{\mathcal H}}_{\RN1(\delta, N)}  \\
    &+ \underbrace{\left\| \int_0^{t_0} [T_N(t_0-s) - T_N(t_0+\delta -s)]\Pi_N\mathcal F(u_N(s))\d s \right\|_{\mathcal H}}_{\RN2(\delta, N)} \\
    &+ \underbrace{\left\| \int_{t_0}^{t_0+\delta} T_N(t_0+\delta-s)\Pi_N\mathcal F(u_N(s))\d s \right\|_{\mathcal H}}_{\RN3(\delta, N)}.
\eea
We show that for each of these terms, the dependence on \(\delta\) and \(N\) can be separated. %Rewrite this
\begin{enumerate}[label=\textbf{\Roman*}., itemsep=5ex]

\item We have that 
\bea
    \RN1(\delta, N) &= \| T_N(t_0)(I - T_N(\delta))\Pi_N u_0\|_\mcH \\
    &\leq Me^{\omega t_0} \| (I - T_N(\delta))\Pi_N u_0\|_\mcH \\
    &= Me^{\omega t_0} \|(\Pi_N - T_N(\delta)\Pi_N) u_0\|_\mcH \\
    &\leq Me^{\omega t_0} \|(I- T_N(\delta)\Pi_N) u_0\|_\mcH \\
    &\leq Me^{\omega T} \|(I- T_N(\delta)\Pi_N) u_0\|_\mcH \\
    &\leq Me^{\omega T} \left[\|(I-T(\delta))u_0\|_\mcH +  \|(T(\delta)- T_N(\delta)\Pi_N) u_0\|_\mcH\right] \\
    &\leq Me^{\omega T} \left[\|(I-T(\delta))u_0\|_\mcH +  \sup_{t\in[0,T]}\|(T(t)- T_N(t)\Pi_N) u_0\|_\mcH\right].
\eea
Now define the following functions:
\be
    \RN1^*(\delta) := Me^{\omega T}\times\|(I-T(\delta))u_0\|_\mcH 
\ee
and 
\be
    \RN1^{**}(N) := Me^{\omega T} \times \sup_{t\in[0,T]}\|(T(t)- T_N(t)\Pi_N) u_0\|_\mcH
\ee
Note that \(\lim_{\delta\to 0^+} \RN1^*(\delta) = 0\) by the continuity of \(T(t)\) and \(\lim_{N\to\infty} \RN1^{**}(N) = 0\) by the Trotter-Kato theorem.

\item We have that
\bea
    \RN2(\delta, N) &\leq \int_0^{t_0} \left\| (T_N(t_0-s) - T_N(t_0+\delta -s))\Pi_N\mathcal F(u_N(s))\right\|_{\mathcal H}\d s \\
    &\leq Me^{\omega T} \int_0^{t_0} \left\| (I- T_N(\delta)\Pi_N)\mathcal F(u_N(s))\right\|_{\mathcal H}\d s  \\
    &\leq Me^{\omega T} \left[\underbrace{ \int_0^{t_0} \left\| (I- T_N(\delta)\Pi_N)\mcF(u(s))\right\|_{\mcH}\d s}_A  \right. \\
    & \hspace{6em} + \left. \underbrace{\int_0^{t_0} \left\| (I- T_N(\delta)\Pi_N)(\mcF(u_N(s)) -\mcF(u(s)))\right\|_{\mcH}\d s}_B \right].
\eea
From here, we can note that 
\bea
    A &\leq \int_0^T \|(I-T(\delta))\mcF(u(s))\|_\mcH\d s + \int_0^T \| (T(\delta) - T_N(\delta))\mcF(u(s))\|_\mcH\d  s \\
    &\leq \int_0^T \|(I-T(\delta))\mcF(u(s))\|_\mcH\d s + \int_0^T \sup_{t\in[0,T]}  \| (T(t) - T_N(t))\mcF(u(s))\|_\mcH \d s,
\eea
where both of these terms can easily be shown to converge to zero as \(\delta\to 0\) and \(N\to\infty\), respectively. Namely, we can apply the Lebesgue Dominated Convergence Theorem. Also note that 
\bea
    B &\leq (1 + Me^{\omega T})\int_0^T \| \mcF(u_N(s)) - \mcF(u(s)) \|_\mcH \d s,
\eea
where the right-hand side converges to zero as \(N\to\infty\) by \eqref{conv2}. Now we set
\be
    \RN2^*(\delta) := Me^{\omega T}\int_0^T \|(I-T(\delta))\mcF(u(s))\|_\mcH\d s
\ee
and 
\bea
    \RN2^{**}(N) :=  & Me^{\omega T}\left[\int_0^T \sup_{t\in[0,T]}  \| (T(t) - T_N(t))\mcF(u(s))\|_\mcH \d s \right. \\
    & \hspace{4em} \left. + \left(1 + Me^{\omega T}\right)\int_0^T \| \mcF(u_N(s)) - \mcF(u(s)) \|_\mcH \d s\right].
\eea

\item We have that 
\bea
    \RN3(\delta, N) &\leq \int_{t_0}^{t_0+\delta} \left\| T_N(t_0+\delta-s)\Pi_N\mathcal F(u_N(s))\right\|_\mcH \d s \\ 
    &\leq Me^{\omega T} \int_{t_0}^{t_0+\delta} \left\| \mathcal F(u_N(s)) \right\|_\mcH \d s \\
    &\leq Me^{\omega T} \left[ \int_{t_0}^{t_0+\delta} \| \mcF(u(s)) \|_\mcH \d s + \int_{t_0}^{t_0+\delta} \|\mcF(u_N(s)) - \mcF(u(s)) \|_\mcH \d s\right] \\
    &\leq Me^{\omega T} \left[ \delta \times \sup_{t\in[0,T]} \| \mcF(u(t)) \|_\mcH + \int_{0}^{T} \|\mcF(u_N(s)) - \mcF(u(s)) \|_\mcH \d s\right].
\eea

Note that \( \sup_{t\in[0,T]} \| \mcF(u(t)) \|_\mcH\) is finite since \(\|\mcF(u(t))\|_\mcH\) is a continuous function. Now let 
\be
    \RN3^*(\delta) := Me^{\omega T}\delta \times  \sup_{t\in[0,T]} \| \mcF(u(t)) \|_\mcH
\ee
and
\be
    \RN3^{**}(N) := Me^{\omega T} \int_{0}^{T} \|\mcF(u_N(s)) - \mcF(u(s)) \|_\mcH \d s.
\ee
Clearly \(\lim_{\delta\to 0^+}\RN3^*(\delta) = 0\). Also from \eqref{conv2} we have that \(\lim_{N\to\infty}\RN3^{**}(N) = 0.\)
\end{enumerate}

Thus,
\bea
    \|u_N(t_0) - u_N(t_1)\|_{\mathcal H} &\leq \RN1(\delta, N) + \RN2(\delta, N) + \RN3(\delta, N) \\
    &\leq [\RN1^*(\delta) + \RN2^*(\delta) + \RN3^*(\delta)] + [\RN1^{**}(N) + \RN2^{**}(N) + \RN3^{**}(N)].
\eea
Let \(\epsilon > 0\). We wish to choose \(\delta>0\) such that \(\|u_n(t) - u_n(t')\|_\mcH <\epsilon\) for any \(n\in\mathbb N_0\) and \(t,t'\in[0,T]\) with \(|t-t'|<\delta\). Choosing \(\delta^*\) small enough so that \(\RN1^*(\delta^*) + \RN2^*(\delta^*) + \RN3^*(\delta^*) <\epsilon/2\) and \(N\) large enough such that \(\RN1^{**}(N) + \RN2^{**}(N) + \RN3^{**}(N) < \epsilon/2\), we get that 
\be
    \|u_n(t) - u_n(t')\|_{\mathcal H} < \epsilon,
\ee
where \(|t-t'|<\delta^*\) and \(n\geq N\). For each \(n\in\mathbb N_0\) that are less than \(N\), we pick \(\delta_n>0\) such that \(\|u_n(t) - u_n(t')\|_{\mathcal H} < \epsilon\) for \(|t-t'|<\delta_n\). This is possible since \(u_n\) is uniformly continuous on \([0,T]\). Let \(\delta = \min\{\delta^*, \delta_0,\ldots, \delta_{N-1}\}\). Then \(\delta\) satisfies the challenge from \(\epsilon.\) This proves uniform equicontinuity.
\ep

\bt
For \(T>0\), we have that
\be
    \lim_{N\to\infty} \sup_{t\in[0,T]} \| u_N(t) - u(t) \|_\mcH = 0.
\ee
\et

\bp
The above result follows directly from \cref{thm:pointwise} and \cref{thm:equicontinuous}.
\ep